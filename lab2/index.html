<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© XO Ø§Ù„Ø¹ØµØ±ÙŠØ©</title>

<style>
    body {
        margin: 0;
        font-family: "Tahoma", sans-serif;
        background: linear-gradient(135deg, #4e73df, #1cc88a);
        color: #333;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
    }

    .container {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .card {
        background: #fff;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        padding: 25px;
        width: 100%;
        max-width: 420px;
        text-align: center;
    }

    h1 {
        margin-bottom: 15px;
        color: #4e73df;
    }

    input, select, button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 10px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    button {
        background: linear-gradient(135deg, #4e73df, #1cc88a);
        color: white;
        border: none;
        cursor: pointer;
        transition: 0.3s;
    }

    button:hover {
        opacity: 0.9;
        transform: scale(1.02);
    }

    .game-board {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 15px;
    }

    .cell {
        background: #f8f9fc;
        border-radius: 12px;
        height: 90px;
        font-size: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
    }

    .cell:hover {
        background: #e2e6f5;
    }

    .hidden {
        display: none;
    }

    .status {
        margin-top: 10px;
        font-weight: bold;
    }

    footer {
        background: #111;
        color: #fff;
        text-align: center;
        padding: 10px;
        font-size: 14px;
    }

    @media (max-width: 480px) {
        .cell {
            height: 70px;
            font-size: 28px;
        }
    }
</style>
</head>
<body>

<div class="container">
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <div class="card" id="startScreen">
        <h1>ðŸŽ® Ù„Ø¹Ø¨Ø© XO</h1>
        <p>Ø§Ø®ØªØ± Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ£Ø¯Ø®Ù„ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡</p>

        <select id="mode">
            <option value="1">Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ (Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±)</option>
            <option value="2">Ù„Ø§Ø¹Ø¨Ø§Ù†</option>
        </select>

        <input type="text" id="player1" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„">
        <input type="text" id="player2" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">

        <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div class="card hidden" id="gameScreen">
        <h1>Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø¹Ø¨</h1>
        <div class="status" id="status"></div>

        <div class="game-board" id="board"></div>

        <button onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
        <button onclick="backToStart()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©</button>
    </div>
</div>

<footer>
    <div>Student Name: ZIAD SALEH RADDAD ALHARBI (Ø²ÙŠØ§Ø¯ ØµØ§Ù„Ø­ Ø±Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ)</div>
    <div>Student ID: 446003995</div>
    <div>Supervised by: Mohammed Ahmed Jabali</div>
</footer>

<script>
    let board = ["", "", "", "", "", "", "", "", ""];
    let currentPlayer = "X";
    let gameOver = false;
    let mode = 1;
    let player1Name = "";
    let player2Name = "";

    const startScreen = document.getElementById("startScreen");
    const gameScreen = document.getElementById("gameScreen");
    const boardDiv = document.getElementById("board");
    const statusDiv = document.getElementById("status");

    function startGame() {
        mode = document.getElementById("mode").value;
        player1Name = document.getElementById("player1").value || "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„";
        player2Name = document.getElementById("player2").value || (mode == 1 ? "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±" : "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ");

        startScreen.classList.add("hidden");
        gameScreen.classList.remove("hidden");

        renderBoard();
        updateStatus();
    }

    function renderBoard() {
        boardDiv.innerHTML = "";
        board.forEach((cell, index) => {
            const div = document.createElement("div");
            div.className = "cell";
            div.innerText = cell;
            div.onclick = () => makeMove(index);
            boardDiv.appendChild(div);
        });
    }

    function makeMove(index) {
        if (board[index] !== "" || gameOver) return;

        board[index] = currentPlayer;
        renderBoard();

        if (checkWinner()) {
            statusDiv.innerText = "ðŸŽ‰ Ø§Ù„ÙØ§Ø¦Ø²: " + (currentPlayer === "X" ? player1Name : player2Name);
            gameOver = true;
            return;
        }

        if (!board.includes("")) {
            statusDiv.innerText = "ØªØ¹Ø§Ø¯Ù„ ðŸ¤";
            gameOver = true;
            return;
        }

        currentPlayer = currentPlayer === "X" ? "O" : "X";
        updateStatus();

        if (mode == 1 && currentPlayer === "O") {
            setTimeout(computerMove, 500);
        }
    }

    function computerMove() {
        let emptyCells = board.map((v, i) => v === "" ? i : null).filter(v => v !== null);
        let randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
        makeMove(randomIndex);
    }

    function checkWinner() {
        const wins = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];
        return wins.some(pattern => {
            const [a,b,c] = pattern;
            return board[a] && board[a] === board[b] && board[a] === board[c];
        });
    }

    function updateStatus() {
        statusDiv.innerText = "Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¢Ù†: " + (currentPlayer === "X" ? player1Name : player2Name);
    }

    function resetGame() {
        board = ["", "", "", "", "", "", "", "", ""];
        currentPlayer = "X";
        gameOver = false;
        renderBoard();
        updateStatus();
    }

    function backToStart() {
        resetGame();
        gameScreen.classList.add("hidden");
        startScreen.classList.remove("hidden");
    }
</script>

</body>
</html>
